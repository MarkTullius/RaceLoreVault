{{/* listmd.html */}}
<section class="md-list">
  <h2>List of Available Notes</h2>
  <ul id="noteList"></ul>
  <ul>
    {{ $files := .Site.RegularPages.ByTitle }}
    {{ $sortedFiles := slice }}
    {{ range $files }}
      {{ $title := .Params.title }}
      {{ if not $title }}
        {{ $title = .File.BaseFileName | replaceRE "(?i)\\.md$" "" }}
      {{ end }}
      {{ $sortedFiles = $sortedFiles | append $title }}
    {{ end }}
    <script>
      // JavaScript code to sort the files numerically
      var sortedFiles = JSON.parse('{{ $sortedFiles | jsonify }}');
      sortedFiles.sort((a, b) => parseInt(a, 10) - parseInt(b, 10));

      // JavaScript code to populate the list of hyperlinks
      var noteList = document.getElementById("noteList");
      for (var i = 0; i < sortedFiles.length; i++) {
        var fileName = sortedFiles[i] + '.md';
        var found = false;
        var files = JSON.parse('{{ $files | jsonify }}');
        for (var j = 0; j < files.length; j++) {
          var filePath = files[j].RelPermalink;
          var regex = /\/([^/]+)\.md$/; // Regex to extract the file name
          var match = regex.exec(filePath);
          if (match && match[1] === fileName) {
            found = true;
            var listItem = document.createElement("li");
            var link = document.createElement("a");
            link.href = files[j].Permalink;
            link.textContent = files[j].Params.title;
            listItem.appendChild(link);
            noteList.appendChild(listItem);
            break; // Exit the inner loop since the file is found
          }
        }
      }
    </script>
  </ul>
</section>