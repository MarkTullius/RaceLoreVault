{{/* listmd.html */}}
<section class="md-list">
  <h2>List of Available Notes</h2>
  <ul>
    {{ $files := .Site.RegularPages.ByTitle }}
    {{ $sortedFiles := slice }}
    {{ range $files }}
      {{ $title := .Params.title }}
      {{ if not $title }}
        {{ $title = .File.BaseFileName | replaceRE "(?i)\\.md$" "" }}
      {{ end }}
      {{ $sortedFiles = $sortedFiles | append $title }}
    {{ end }}
    <script>
      // JavaScript code to sort the files numerically
      var sortedFiles = JSON.parse('{{ $sortedFiles | jsonify }}');
      sortedFiles.sort((a, b) => parseInt(a, 10) - parseInt(b, 10));
      for (var i = 0; i < sortedFiles.length; i++) {
        var fileName = sortedFiles[i] + '.md';
        var found = false;
        var files = JSON.parse('{{ $files | jsonify }}');
        for (var j = 0; j < files.length; j++) {
          if (!found && files[j].File.BaseFileName === fileName) {
            found = true;
            document.write('<li><a href="' + files[j].Permalink + '">' + files[j].Params.title + '</a></li>');
          }
        }
      }
    </script>
  </ul>
</section>
