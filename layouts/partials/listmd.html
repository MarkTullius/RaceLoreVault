{{/* listmd.html */}}
{{ $files := .Site.RegularPages.ByTitle }}
{{ $sortedFiles := $files | sortNumericAsc }}
<section class="md-list">
  <h2>List of Available Notes</h2>
  <ul>
    {{ range $sortedFiles }}
      {{ $title := .Params.title }}
      {{ if not $title }}
        {{ $title = .File.BaseFileName | replaceRE "(?i)\\.md$" "" }}
      {{ end }}
      <li><a href="{{ .Permalink }}">{{ $title }}</a></li>
    {{ end }}
  </ul>
</section>

{{/* Sorts the files numerically in ascending order */}}
{{ define "sortNumericAsc" }}
  {{ $sorted := slice }}
  {{ range $files }}
    {{ $title := .Params.title }}
    {{ if not $title }}
      {{ $title = .File.BaseFileName | replaceRE "(?i)\\.md$" "" }}
    {{ end }}
    {{ $sorted = $sorted | append (dict "Title" $title "Permalink" .Permalink) }}
  {{ end }}
  {{ $sorted := $sorted | sortAsc }}
  {{ range $sorted }}
    {{ $title := .Title }}
    {{ $permalink := .Permalink }}
    <li><a href="{{ $permalink }}">{{ $title }}</a></li>
  {{ end }}
{{ end }}

{{/* Sorts a slice of dictionaries by the "Title" field in ascending order */}}
{{ define "sortAsc" }}
  {{ $sorted := . | sort }}
  {{ range $sorted }}
    {{ . }}
  {{ end }}
{{ end }}
